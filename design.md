# 设计文档

## 目标

围绕初始给定的主题，组建由多个 AI agent 组成的小组，进行持续多轮的头脑风暴。

## 需求

- 在每一轮开始前
  - 询问客户是否需要调整讨论主题，并引导客户补充必要的信息。
  - 如果是第一轮
    - 根据讨论主题及相关信息，安排一定数量的 AI agent。
    - 明确每个 agent 的角色与关注点。
  - 如果不是第一轮
    - 根据上一轮所有 agent 的表现评估及打分，挑选出表现较好的 agent 继续参与这一轮。
    - 评估是否需要加入新的 agent，加入几个。
  - 对于每个新加入的 agent，针对其角色，分配不同能力特点的语言模型，并设置相关参数及 System Prompt。
- 在每一轮讨论中
  - 以上一轮讨论的总结作为开始（对 agent 可见）
  - 轮流让每个 agent 发言。（agent 也可选择跳过此轮发言）
  - 客户可随时请求暂停讨论，在等待当前 agent 说完后，可以作出以下交互：
    - 以发言方式提供任何补充信息或回应其它 agent 的发言
    - 移除某个 agent（保留其既有发言，但后续退出讨论）
    - 添加新的 agent 加入讨论（以自然语言方式描述这个角色）
    - 恢复暂停的讨论（让现有 agent 继续进行连续的讨论）
- 在每一轮结束后
  - 总结这一轮的讨论，呈现给客户。
  - 评估每一个 agent 的表现并打分（10 分制），对 agent 不可见。

## 实现要点

- 使用浏览器作为运行环境，JavaScript 作为编程语言。（不要使用 Node.js）
- 主流程使用的语言模型：deepseek-r1
- Agent 使用的语言模型：deepseek-r1-7b
