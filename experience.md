# JavaScript 模块化项目代码生成的最佳实践

1. **始终为浏览器 ES 模块指定文件扩展名**
   - 在浏览器环境中，所有的 import 语句必须包含 `.js` 扩展名
   - 错误例：`import { Component } from './Component'`
   - 正确例：`import { Component } from './Component.js'`

2. **保持单一实例化原则**
   - 避免多处创建同一类的实例，特别是管理器类
   - 使用依赖注入模式将实例传递给需要的组件

3. **确保方法实现与接口调用一致**
   - 在调用方法前，确保该方法在目标类中已实现
   - 为所有被引用的方法提供实现或占位符

4. **添加健壮的空值检查**
   - 在访问 DOM 元素或调用可能不存在的方法前进行检查
   - 使用可选链操作符 `?.` 和空值合并操作符 `??` 增强代码健壮性

5. **提供合理的默认行为**
   - 实现模块时，为关键功能提供基本的默认实现
   - 确保在依赖未初始化或数据缺失时系统仍能正常运行

6. **明确类之间的依赖关系**
   - 构造函数应明确声明和初始化所有必要依赖
   - 避免隐式依赖和全局状态

7. **确保 HTML 与 JavaScript 交互点一致**
   - 确认所有 JavaScript 引用的 DOM 元素 ID 在 HTML 中存在
   - 动态创建缺失的 UI 元素而不是假设它们已存在

8. **测试关键路径**
   - 确保应用初始化、用户交互和数据流等关键路径有完整实现
   - 提供合理的占位符功能直到真实功能实现

9. **使用类型注释或 JSDoc**
    - 为函数参数和返回值添加类型注释增加代码可读性
    - 明确方法期望接收的参数类型和结构
